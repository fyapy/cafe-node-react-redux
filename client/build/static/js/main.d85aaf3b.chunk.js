(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,a,t){e.exports=t(385)},169:function(e,a,t){},385:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(149),c=t.n(l),o=t(3),m=t(4),s=t(6),i=t(5),d=t(7),u=t(390),p=t(392),h=t(388),f=t(150),E=t.n(f),b=t(44),N=t.n(b),g=(t(168),t(169),t(9)),v=t.n(g),y=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},O=function(e,a){return function(t){v.a.post("/api/users/login",e).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),y(n);var r=N()(n);t(j(r)),a.push("/")}).catch(function(e){t({type:"SET_LOGIN_ERRORS",payload:e.response.data.errors})})}},j=function(e){return{type:"SET_CURRENT_USER",payload:e}},C=t(8),w=t(20),k=t(152),S=t(14),R=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},D={isAuthenticated:!1,user:{}},T={loginErrors:{}},_={categories:[],products:[]},I=t(156),A={cart:[],totalPrice:0,success:!1},x={category:null,product:null,orders:null},F=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(S.a)({},e,{isAuthenticated:!R(a.payload),user:a.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_LOGIN_ERRORS":return Object(S.a)({},e,{loginErrors:a.payload});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_HOME_DATA":return Object(S.a)({},e,{categories:a.payload.categories,products:a.payload.products});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_TO_CART":return Object(S.a)({},e,{cart:[].concat(Object(I.a)(e.cart),[a.payload])});case"INCREASE_QUANTITY":return Object(S.a)({},e,{cart:a.payload});case"INCREASE_PRICE":return Object(S.a)({},e,{totalPrice:e.totalPrice+a.payload});case"DECREASE_PRICE":return Object(S.a)({},e,{totalPrice:e.totalPrice-a.payload});case"NEW_CART":return Object(S.a)({},e,{cart:a.payload});case"SUCCESS_CART":return Object(S.a)({},e,{success:!0});default:return e}},panel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CATEGORY":return Object(S.a)({},e,{category:a.payload});case"GET_PRODUCT":return Object(S.a)({},e,{product:a.payload});case"GET_ORDERS":return Object(S.a)({},e,{orders:a.payload});default:return e}}}),U=[k.a],P="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):w.d,M=Object(w.e)(F,{},P(w.a.apply(void 0,U))),L=t(387),q=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={isMenuOpen:!1},t.toggleMenu=function(){t.setState({isMenuOpen:!t.state.isMenuOpen})},t.logout=function(e){e.preventDefault(),t.props.logoutUser()},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state.isMenuOpen,a=this.props.auth.isAuthenticated,t=this.props.auth.user;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-7"},r.a.createElement(L.a,{to:"/",className:"header-logo"},"Cafe")),r.a.createElement("div",{className:"col-xl-10"},r.a.createElement("div",{className:"header-toggle d-xl-none",onClick:this.toggleMenu},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("ul",{className:"header-list ".concat(e&&"open")},r.a.createElement("li",{className:"header-list-item"},r.a.createElement(L.a,{to:"/",className:"header-list-item-link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"header-list-item"},r.a.createElement(L.a,{to:"/cart",className:"header-list-item-link"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),!R(t)&&t.role>7&&r.a.createElement("li",{className:"header-list-item"},r.a.createElement(L.a,{to:"/panel",className:"header-list-item-link"},"\u041f\u0430\u043d\u0435\u043b\u044c")))),r.a.createElement("div",{className:"col-xl-7"},a?r.a.createElement("div",{className:"header-control"},r.a.createElement(L.a,{to:"/profile",className:"header-control-item"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c ",r.a.createElement("i",{className:"far fa-user-circle"})),r.a.createElement("a",{href:"/logout",className:"header-control-item",onClick:this.logout},"\u0412\u044b\u0439\u0442\u0438 ",r.a.createElement("i",{className:"far fa-sign-out-alt"}))):r.a.createElement("div",{className:"header-control"},r.a.createElement(L.a,{to:"/login",className:"header-control-item"},"\u0412\u0445\u043e\u0434 ",r.a.createElement("i",{className:"fal fa-sign-in-alt"})),r.a.createElement(L.a,{to:"/register",className:"header-control-item"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f ",r.a.createElement("i",{className:"fal fa-user-plus"})))))))}}]),a}(n.Component),H=Object(C.b)(function(e){return{auth:e.auth}},{logoutUser:function(){return function(e){localStorage.removeItem("jwtToken"),y(!1),e(j({}))}}})(q),G=function(){return function(e){v.a.get("/api/home").then(function(a){e({type:"GET_HOME_DATA",payload:a.data})})}},W=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.category,t=e.scroll;return r.a.createElement("div",{className:"col-12 col-sm-8 col-lg-3"},r.a.createElement("a",{href:"/".concat(a.id),className:"categories-item",onClick:function(e){return t(e,a.id)}},r.a.createElement("img",{src:"/img/".concat(a.img),alt:"Category"}),r.a.createElement("div",{className:"categories-item-title"},a.name)))}}]),a}(n.Component),V=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.product,a=e.id,t=e.name,n=e.price,l=e.img,c=this.props.addToCart;return r.a.createElement("div",{className:"col-24 col-sm-12 col-lg-8",onClick:function(e){return c(e,a)}},r.a.createElement("a",{href:"/",className:"products-item"},r.a.createElement("img",{src:"/img/".concat(l),alt:""}),r.a.createElement("div",{className:"products-item-info"},r.a.createElement("div",{className:"products-item-title"},t),r.a.createElement("div",{className:"products-item-price"},n," ",r.a.createElement("i",{className:"far fa-ruble-sign"})),r.a.createElement("button",{className:"products-item-btn"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"))))}}]),a}(n.Component),X=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.cart,a=e.cart,t=e.totalPrice;return r.a.createElement(L.a,{to:"/cart",className:"cart"},r.a.createElement("div",{className:"cart-title"},r.a.createElement("i",{className:"far fa-shopping-cart"})," \u041a\u043e\u0440\u0437\u0438\u043d\u0430"," ",r.a.createElement("small",null,"(",a.length," \u0428\u0442.)"),r.a.createElement("span",{className:"cart-price"},t," ",r.a.createElement("i",{className:"far fa-ruble-sign"}))))}}]),a}(n.Component),Y=Object(C.b)(function(e){return{cart:e.cart,home:e.home}})(X);var z=function(){return r.a.createElement("div",{className:"sk-cube-grid"},r.a.createElement("div",{className:"sk-cube sk-cube1"}),r.a.createElement("div",{className:"sk-cube sk-cube2"}),r.a.createElement("div",{className:"sk-cube sk-cube3"}),r.a.createElement("div",{className:"sk-cube sk-cube4"}),r.a.createElement("div",{className:"sk-cube sk-cube5"}),r.a.createElement("div",{className:"sk-cube sk-cube6"}),r.a.createElement("div",{className:"sk-cube sk-cube7"}),r.a.createElement("div",{className:"sk-cube sk-cube8"}),r.a.createElement("div",{className:"sk-cube sk-cube9"}))},B=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(i.a)(a).call(this,e))).scrollToProd=function(e,a){e.preventDefault(),window.scrollTo(0,t.ProdRefs[a].offsetTop)},t.addToCart=function(e,a){e.preventDefault(),t.props.addToCart(a)},t.ProdRefs=[],t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getHomeData()}},{key:"render",value:function(){var e=this,a=this.props.home,t=a.categories,n=a.products;return r.a.createElement("div",null,t.length<=0?r.a.createElement(z,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"categories"},r.a.createElement("div",{className:"categories-title"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},t.map(function(a,t){return r.a.createElement(W,{category:a,key:t,scroll:e.scrollToProd})})))),r.a.createElement("div",{className:"products-wrapper"},t.map(function(a,t){return r.a.createElement("div",{className:"products",key:t,ref:function(t){e.ProdRefs[a.id]=t}},r.a.createElement("div",{className:"products-title"},a.name),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},0===n.filter(function(e){return e.catId===a.id}).length?r.a.createElement("div",{className:"products-empty"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u044d\u0442\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435\u0442."):n.filter(function(e){return e.catId===a.id}).map(function(a,t){return r.a.createElement(V,{product:a,key:t,addToCart:e.addToCart})}))))})),r.a.createElement(Y,null)))}}]),a}(n.Component),J=Object(C.b)(function(e){return{home:e.home}},{getHomeData:G,addToCart:function(e,a){return function(a,t){var n=t().cart.cart.find(function(a){return a.id===e}),r=t().home.products.find(function(a){return a.id===e});if(R(n))a({type:"ADD_TO_CART",payload:{id:e,quantity:1}});else{n.quantity++;var l=t().cart.cart.findIndex(function(a){return a.id===e}),c=t().cart.cart;c[l]=n,a({type:"INCREASE_QUANTITY",payload:c})}a({type:"INCREASE_PRICE",payload:r.price})}}})(B),Q=function(e){return function(a){v.a.delete("/api/products/".concat(e)).then(function(e){a(G())})}},$=t(391),K=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.location.pathname;return r.a.createElement("ul",{className:"panel-navbar"},r.a.createElement("li",{className:"panel-navbar-item"},r.a.createElement(L.a,{to:"/panel",className:"panel-navbar-link ".concat("/panel"===e&&"current")},"\u0422\u043e\u0432\u0430\u0440\u044b")),r.a.createElement("li",{className:"panel-navbar-item"},r.a.createElement(L.a,{to:"/panel/categories",className:"panel-navbar-link ".concat("/panel/categories"===e&&"current")},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),r.a.createElement("li",{className:"panel-navbar-item"},r.a.createElement(L.a,{to:"/panel/orders",className:"panel-navbar-link ".concat("/panel/orders"===e&&"current")},"\u0417\u0430\u043a\u0430\u0437\u044b")))}}]),a}(n.Component),Z=Object($.a)(K),ee=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).handleDelete=function(e,a){e.preventDefault(),t.props.deleteProduct(a)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getHomeData()}},{key:"render",value:function(){var e=this,a=this.props.home.products.slice().sort(function(e,a){return a.id-e.id});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-24 col-lg-18"},r.a.createElement(Z,null)),r.a.createElement("div",{className:"col-24 col-lg-6 d-flex justify-content-end"},r.a.createElement(L.a,{to:"/panel/products/add",className:"panel-navbar-add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440")),a.length<=0?r.a.createElement(z,null):r.a.createElement("div",{className:"col-24"},r.a.createElement("table",{className:"panel-table"},r.a.createElement("thead",{className:"panel-table-head"},r.a.createElement("tr",null,r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u043e\u043c\u0435\u0440"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0426\u0435\u043d\u0430"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement("tbody",{className:"panel-table-body"},a.map(function(a,t){return r.a.createElement("tr",{key:a.id,className:"panel-table-body-row"},r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u043e\u043c\u0435\u0440"},a.id),r.a.createElement("th",{className:"panel-table-body-item image","data-label":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},r.a.createElement("img",{src:"/img/".concat(a.img),alt:"Img"})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},a.name),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0426\u0435\u043d\u0430"},a.price," ",r.a.createElement("i",{className:"far fa-ruble-sign"})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},r.a.createElement(L.a,{to:"/panel/products/edit/".concat(a.id),className:"panel-table-body-item-increase"},r.a.createElement("i",{className:"far fa-edit"})," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement("span",{onClick:function(t){return e.handleDelete(t,a.id)},className:"panel-table-body-item-delete"},r.a.createElement("i",{className:"far fa-trash-alt"})," \u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}))))))}}]),a}(n.Component),ae=Object(C.b)(function(e){return{home:e.home}},{getHomeData:G,deleteProduct:Q})(ee),te=t(15),ne=t(23),re=t.n(ne),le=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",image:"",price:"",file:null,catId:null,errors:{},ready:!1},t.crop=function(){t.setState({image:t.refs.cropper.getCroppedCanvas().toDataURL()})},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.handleFileChange=function(e){t.setState({file:URL.createObjectURL(e.target.files[0]),ready:!0})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,r=a.price,l=a.image,c=a.catId;t.props.addProduct({name:n,price:r,image:l,catId:c},t.props.history)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state,a=e.name,t=e.price,n=e.file,l=e.errors,c=e.ready,o=this.props.home.categories;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-24"},r.a.createElement(Z,null)),r.a.createElement("form",{className:"col-24 panel-edit",onSubmit:this.onSubmit},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"name",className:"modal-form-label"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:a,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",autoFocus:!0,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},l.name)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"price",className:"modal-form-label"},"\u0426\u0435\u043d\u0430"),r.a.createElement("input",{type:"text",name:"price",id:"price",placeholder:"\u0426\u0435\u043d\u0430",value:t,autoFocus:!0,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},l.price)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"catId",className:"modal-form-label"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("select",{name:"catId",id:"catId",onChange:this.onChange,className:"modal-form-select"},o.map(function(e,a){return r.a.createElement("option",{value:e.id,key:a},e.name)})),r.a.createElement("div",{className:"modal-form-error"},l.catId))),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"file",className:"panel-edit-upload panel-navbar-add"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e"),r.a.createElement("input",{type:"file",id:"file",onChange:this.handleFileChange,className:"d-none"})),r.a.createElement("div",{className:"panel-edit-image"},r.a.createElement(re.a,{ref:"cropper",src:n,viewMode:2,style:{width:"100%",maxWidth:"100%",margin:"0 auto",maxHeight:"200px"},aspectRatio:16/9,guides:!1,cropend:this.crop,ready:this.crop})),c&&r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("button",{type:"submit",className:"panel-navbar-add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440")))))))}}]),a}(n.Component),ce=Object(C.b)(function(e){return{home:e.home}},{addProduct:function(e,a){return function(t){v.a.post("/api/products/add",e).then(function(e){!0===e.data.success&&a.push("/panel")})}}})(le),oe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",price:"",img:"",catId:"",file:"",image:"",errors:{}},t.crop=function(){t.setState({image:t.refs.cropper.getCroppedCanvas().toDataURL()})},t.handleFileChange=function(e){t.setState({file:URL.createObjectURL(e.target.files[0])})},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,r=a.price,l=a.catId,c=a.image,o=t.props,m=o.panel,s=o.history;t.props.editProduct(m.product.id,{name:n,price:r,catId:l,image:c},s)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getProduct(this.props.match.params.id),this.props.getHomeData()}},{key:"componentDidUpdate",value:function(e){var a=this.props.panel.product,t=this.state.name;R(a)||t===a.name||a===e.panel.product||this.setState({name:a.name,img:"/img/".concat(a.img),price:a.price,catId:a.catId})}},{key:"render",value:function(){var e=this.state,a=e.name,t=e.price,n=e.img,l=e.file,c=e.image,o=e.catId,m=e.errors,s=this.props.home.categories;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"row justify-content-center",onSubmit:this.onSubmit},r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"name",className:"modal-form-label"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:a,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",autoFocus:!0,onChange:this.onChange,autoComplete:"off",className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},m.name)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"price",className:"modal-form-label"},"\u0426\u0435\u043d\u0430"),r.a.createElement("input",{type:"text",name:"price",id:"price",value:t,placeholder:"\u0426\u0435\u043d\u0430",onChange:this.onChange,autoComplete:"off",className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},m.price)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"catId",className:"modal-form-label"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("select",{name:"catId",id:"catId",value:o,onChange:this.onChange,className:"modal-form-select"},s.map(function(e,a){return r.a.createElement("option",{value:e.id,key:a},e.name)})),r.a.createElement("div",{className:"modal-form-error"},m.catId)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"file",className:"panel-edit-file panel-navbar-add"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e"),r.a.createElement("input",{type:"file",id:"file",onChange:this.handleFileChange,className:"d-none"})),r.a.createElement("div",{className:"panel-edit-image"},r.a.createElement(re.a,{ref:"cropper",src:l,viewMode:2,style:{width:"100%",maxWidth:"100%",margin:"0 auto",maxHeight:"230px"},aspectRatio:16/9,guides:!1,cropend:this.crop,ready:this.crop}))),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"panel-edit-preview"},r.a.createElement("img",{src:R(c)?n:c,alt:"img"})),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("button",{type:"submit",className:"panel-edit-upload panel-navbar-add"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440")))))}}]),a}(n.Component),me=Object(C.b)(function(e){return{panel:e.panel,home:e.home}},{getProduct:function(e){return function(a){v.a.get("/api/products/".concat(e)).then(function(e){a({type:"GET_PRODUCT",payload:e.data.product})})}},editProduct:function(e,a,t){return function(n){v.a.put("/api/products/".concat(e),a).then(function(e){t.push("/panel")})}},getHomeData:G})(oe),se=t(64),ie=t.n(se),de=function(e){var a={};return e.email=R(e.email)?"":e.email,e.password=R(e.password)?"":e.password,ie.a.isEmail(e.email)||(a.email="E-mail \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d"),ie.a.isEmpty(e.email)&&(a.email="E-mail \u043f\u0443\u0441\u0442\u043e\u0439"),ie.a.isEmpty(e.password)&&(a.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043f\u0443\u0441\u0442\u043e\u0439"),{errors:a,isValid:R(a)}},ue=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",errors:{}},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=de(t.state),n=a.errors;if(!a.isValid)return t.setState({errors:n});t.props.loginUser(t.state,t.props.history)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.props.errors.loginErrors;t!==e.errors.loginErrors&&this.setState({errors:t})}},{key:"render",value:function(){var e=this.state,a=e.email,t=e.password,n=e.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"col-24 col-lg-12"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"email",className:"modal-form-label"},"E-mail"),r.a.createElement("input",{type:"email",name:"email",id:"email",value:a,autoFocus:!0,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},n.email)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"password",className:"modal-form-label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:t,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},n.password)),r.a.createElement("button",{className:"modal-form-btn"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),a}(n.Component),pe=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:O})(ue),he=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={login:"",email:"",password:"",password2:"",errors:{}},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=de(t.state),n=a.errors;if(!a.isValid)return t.setState({errors:n});t.props.loginUser(t.state,t.props.history)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.props.errors.loginErrors;t!==e.errors.loginErrors&&this.setState({errors:t})}},{key:"render",value:function(){var e=this.state,a=e.login,t=e.email,n=e.password,l=e.password2,c=e.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"col-24 col-lg-12"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"login",className:"modal-form-label"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("input",{type:"text",name:"login",id:"login",value:a,autoFocus:!0,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},c.login)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"email",className:"modal-form-label"},"E-mail"),r.a.createElement("input",{type:"email",name:"email",id:"email",value:t,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},c.email)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"password",className:"modal-form-label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:n,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},c.password)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"password2",className:"modal-form-label"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",name:"password2",id:"password2",value:l,onChange:this.onChange,className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},c.password)),r.a.createElement("button",{className:"modal-form-btn"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),a}(n.Component),fe=Object(C.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:O})(he),Ee=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.getCurrentProfile()}},{key:"componentDidUpdate",value:function(e){this.props.auth.isAuthenticated!==e.auth.isAuthenticated&&this.props.getCurrentProfile()}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null)}}]),a}(n.Component),be=Object(C.b)(function(e){return{auth:e.auth}},{getCurrentProfile:function(){return function(e){v.a.get("/api/users/current").then(function(a){return e({type:"SET_CURRENT_USER",payload:a.data})}).catch(function(a){return e({type:"SET_CURRENT_USER",payload:{}})})}}})(Ee),Ne=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("div",{className:"profile-icon"},r.a.createElement("i",{className:"far fa-user-circle"})),r.a.createElement("div",{className:"profile-name"},e.name),r.a.createElement("div",{className:"profile-orders"},r.a.createElement("div",{className:"profile-orders-title"},"\u0412\u0430\u0448\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"),r.a.createElement("div",{className:"profile-orders-empty"},"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u043b\u0438(")))))}}]),a}(n.Component),ge=Object(C.b)(function(e){return{auth:e.auth}})(Ne),ve=t(157),ye=t(389),Oe=Object(C.b)(function(e){return{auth:e.auth}})(function(e){var a=e.component,t=e.auth,n=Object(ve.a)(e,["component","auth"]);return r.a.createElement(h.a,Object.assign({},n,{render:function(e){return!0===t.isAuthenticated?r.a.createElement(a,e):r.a.createElement(ye.a,{to:"/login"})}}))}),je=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).handleDelete=function(e,a){e.preventDefault(),t.props.deleteCategory(a)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getHomeData()}},{key:"render",value:function(){var e=this,a=this.props.home.categories.slice().sort(function(e,a){return a.id-e.id});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-18"},r.a.createElement(Z,null)),r.a.createElement("div",{className:"col-lg-6 d-flex justify-content-end"},r.a.createElement(L.a,{to:"/panel/categories/add",className:"panel-navbar-add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")),a.length<=0?r.a.createElement(z,null):r.a.createElement("div",{className:"col-24"},r.a.createElement("table",{className:"panel-table"},r.a.createElement("thead",{className:"panel-table-head"},r.a.createElement("tr",null,r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u043e\u043c\u0435\u0440"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement("tbody",{className:"panel-table-body"},a.map(function(a,t){return r.a.createElement("tr",{key:a.id,className:"panel-table-body-row"},r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u043e\u043c\u0435\u0440"},a.id),r.a.createElement("th",{className:"panel-table-body-item image","data-label":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},r.a.createElement("img",{src:"/img/".concat(a.img),alt:"Img"})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},a.name),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},r.a.createElement(L.a,{to:"/panel/categories/edit/".concat(a.id),className:"panel-table-body-item-increase"},r.a.createElement("i",{className:"far fa-edit"})," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement("span",{onClick:function(t){return e.handleDelete(t,a.id)},className:"panel-table-body-item-delete"},r.a.createElement("i",{className:"far fa-trash-alt"})," \u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}))))))}}]),a}(n.Component),Ce=Object(C.b)(function(e){return{home:e.home}},{getHomeData:G,deleteCategory:function(e){return function(a){v.a.delete("/api/categories/".concat(e)).then(function(e){a(G())})}}})(je),we=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",image:null,file:null,errors:{},ready:!1},t.crop=function(){t.setState({image:t.refs.cropper.getCroppedCanvas().toDataURL()})},t.handleFileChange=function(e){t.setState({file:URL.createObjectURL(e.target.files[0]),ready:!0})},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,r=a.image;t.props.addCategory({name:n,image:r},t.props.history)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state,a=e.name,t=e.file,n=e.errors,l=e.ready;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-24"},r.a.createElement(Z,null)),r.a.createElement("form",{className:"col-24 panel-edit",onSubmit:this.onSubmit},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"name",className:"modal-form-label"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:a,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",autoFocus:!0,onChange:this.onChange,autoComplete:"off",className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},n.name)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"file",className:"panel-edit-upload panel-navbar-add"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e"),r.a.createElement("input",{type:"file",id:"file",onChange:this.handleFileChange,className:"d-none"})),r.a.createElement("div",{className:"panel-edit-image"},r.a.createElement(re.a,{ref:"cropper",src:t,viewMode:2,style:{width:"100%",maxWidth:"100%",margin:"0 auto",maxHeight:"230px"},aspectRatio:1,guides:!1,cropend:this.crop,ready:this.crop})),l&&r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("button",{type:"submit",className:"panel-edit-upload panel-navbar-add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u0438\u0440\u0438\u044e")))))))}}]),a}(n.Component),ke=Object(C.b)(function(e){return{home:e.home}},{addCategory:function(e,a){return function(t){v.a.post("/api/categories/add",e).then(function(e){!0===e.data.success&&a.push("/panel/categories")})}}})(we),Se=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",img:"",file:"",image:"",errors:{}},t.crop=function(){t.setState({image:t.refs.cropper.getCroppedCanvas().toDataURL()})},t.handleFileChange=function(e){t.setState({file:URL.createObjectURL(e.target.files[0])})},t.onChange=function(e){t.setState(Object(te.a)({},e.target.name,e.target.value))},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,r=a.price,l=a.image,c=a.catId,o=t.props,m=o.history,s=o.panel;t.props.editCategory(s.category.id,{name:n,price:r,image:l,catId:c},m)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategory(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e){var a=this.props.panel.category,t=this.state.name;R(a)||t===a.name||a===e.panel.category||this.setState({name:a.name,img:"/img/".concat(a.img)})}},{key:"render",value:function(){var e=this.state,a=e.name,t=e.img,n=e.file,l=e.image,c=e.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"row justify-content-center",onSubmit:this.onSubmit},r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"name",className:"modal-form-label"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:a,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",autoFocus:!0,onChange:this.onChange,autoComplete:"off",className:"modal-form-control"}),r.a.createElement("div",{className:"modal-form-error"},c.name)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"file",className:"panel-edit-file panel-navbar-add"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e"),r.a.createElement("input",{type:"file",id:"file",onChange:this.handleFileChange,className:"d-none"})),r.a.createElement("div",{className:"panel-edit-image"},r.a.createElement(re.a,{ref:"cropper",src:n,viewMode:2,style:{width:"100%",maxWidth:"100%",margin:"0 auto",maxHeight:"230px"},aspectRatio:1,guides:!1,cropend:this.crop,ready:this.crop}))),r.a.createElement("div",{className:"col-lg-8"},r.a.createElement("div",{className:"panel-edit-preview"},r.a.createElement("img",{src:R(l)?t:l,alt:"img"})),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("button",{type:"submit",className:"panel-edit-upload panel-navbar-add"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u0438\u0440\u0438\u044e")))))}}]),a}(n.Component),Re=Object(C.b)(function(e){return{panel:e.panel}},{getCategory:function(e){return function(a,t){v.a.get("/api/categories/".concat(e)).then(function(e){a({type:"GET_CATEGORY",payload:e.data.category})})}},editCategory:function(e,a,t){return function(n){v.a.put("/api/categories/".concat(e),a).then(function(e){t.push("/panel/categories")})}}})(Se),De=t(24),Te=t(25),_e=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props,a=e.errors,t=e.touched,n=e.isSubmitting,l=e.cart;return r.a.createElement(Te.b,{className:"col-24 row"},r.a.createElement("div",{className:"col-24 col-lg-12"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"date",className:"modal-form-label"},"\u0414\u0430\u0442\u0430",r.a.createElement("span",{className:"modal-form-label-required"},"*")),r.a.createElement(Te.a,{type:"date",id:"date",name:"date",className:"modal-form-control"}),a.cartNotEmpty&&r.a.createElement("div",{className:"modal-form-error"},a.cartNotEmpty),a.date&&t.date&&r.a.createElement("div",{className:"modal-form-error"},a.date)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"time",className:"modal-form-label"},"\u0412\u0440\u0435\u043c\u044f",r.a.createElement("span",{className:"modal-form-label-required"},"*")),r.a.createElement(Te.a,{type:"time",id:"time",name:"time",className:"modal-form-control"}),a.time&&t.time&&r.a.createElement("div",{className:"modal-form-error"},a.time)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"phone",className:"modal-form-label"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",r.a.createElement("span",{className:"modal-form-label-required"},"*")),r.a.createElement(Te.a,{type:"text",name:"phone",id:"phone",placeholder:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",className:"modal-form-control"}),a.phone&&t.phone&&r.a.createElement("div",{className:"modal-form-error"},a.phone))),r.a.createElement("div",{className:"col-24 col-lg-12"},r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"customersCount",className:"modal-form-label"},"\u041a\u043e\u043b-\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",r.a.createElement("span",{className:"modal-form-label-required"},"*")),r.a.createElement(Te.a,{type:"text",id:"customersCount",name:"customersCount",placeholder:"\u041a\u043e\u043b-\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",className:"modal-form-control"}),a.customersCount&&t.customersCount&&r.a.createElement("div",{className:"modal-form-error"},a.customersCount)),r.a.createElement("div",{className:"modal-form-group"},r.a.createElement("label",{htmlFor:"comment",className:"modal-form-label"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),r.a.createElement(Te.a,{component:"textarea",name:"comment",id:"comment",className:"modal-form-control",placeholder:"\u041b\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f.."}),a.comment&&t.comment&&r.a.createElement("div",{className:"modal-form-error"},a.comment)),r.a.createElement("div",{className:"cart-total"},l.success&&r.a.createElement("div",{className:"col-24 cart-total-success"},"\u0417\u0430\u043a\u0430\u0437 \u0441\u0434\u0435\u043b\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e, \u0441\u043f\u0430\u0441\u0438\u0431\u043e)"),r.a.createElement("span",null,"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",l.totalPrice," ",r.a.createElement("i",{className:"far fa-ruble-sign"})),r.a.createElement("button",{type:"submit",disabled:n,className:"cart-order-btn"},"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"))))}}]),a}(n.Component),Ie=De.object().shape({cartNotEmpty:De.boolean().oneOf([!0],"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f"),date:De.date().required("\u0414\u0430\u0442\u0430 \u043f\u0443\u0441\u0442\u0430\u044f"),time:De.string().required("\u0412\u0440\u0435\u043c\u044f \u043f\u0443\u0441\u0442\u043e\u0435"),phone:De.string().matches(/^((\+7|7|8)+([0-9]){10})$/,"\u041d\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, 89543028277").required("\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043f\u0443\u0441\u0442\u043e\u0439"),customersCount:De.number().typeError("\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b").min(1,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 1 \u0447\u0435\u043b\u043e\u0432\u0435\u043a").required("\u041a\u043e\u043b-\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043f\u0443\u0441\u0442\u043e\u0435"),comment:De.string().max(255,"\u041d\u0435 \u0431\u043e\u043b\u0435\u0435 255 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Ae=Object(w.d)(Object(C.b)(function(e){return{cart:e.cart,home:e.home}}),Object(Te.c)({mapPropsToValues:function(e){var a=e.cart;return{cartNotEmpty:!R(a.cart),date:"",time:"",phone:"",customersCount:"",comment:""}},validationSchema:Ie,handleSubmit:function(e,a){var t=a.props;a.setSubmitting;t.onSubmit(e)}}))(_e),xe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var a=t.props.cart,n=a.cart,r=a.totalPrice;t.props.addOrder(Object(S.a)({items:n,amount:r},e))},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.cart.cart,a=this.props.home.products,t=this.props,n=t.deleteFromCart,l=t.increaseCart,c=t.decreaseCart;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-24"},r.a.createElement("div",{className:"categories-title"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),r.a.createElement("div",{className:"col-24"},e.length<=0?r.a.createElement("div",{className:"panel-table-empty"},"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"):r.a.createElement("table",{className:"panel-table"},r.a.createElement("thead",{className:"panel-table-head"},r.a.createElement("tr",null,r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u043e\u043c\u0435\u0440"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0442\u0441\u0432\u043e"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement("tbody",{className:"panel-tabel-body"},e.map(function(e,t){var o=a.find(function(a){return a.id===e.id});return r.a.createElement("tr",{key:t,className:"panel-table-body-row"},r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u043e\u043c\u0435\u0440"},t+1),r.a.createElement("th",{className:"panel-table-body-item image","data-label":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},r.a.createElement("img",{src:"/img/".concat(o.img),alt:o.name})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},o.name),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},e.quantity),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},r.a.createElement("span",{className:"panel-table-body-item-increase",onClick:function(e){return l(o.id)}},r.a.createElement("i",{className:"far fa-plus"})," 1 \u0428\u0442"),r.a.createElement("span",{className:"panel-table-body-item-decrease",onClick:function(e){return c(o.id)}},r.a.createElement("i",{className:"far fa-minus"})," 1 \u0428\u0442"),r.a.createElement("span",{className:"panel-table-body-item-delete",onClick:function(e){return n(o.id)}},r.a.createElement("i",{className:"far fa-trash-alt"})," \u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})))),r.a.createElement(Ae,{onSubmit:this.onSubmit})))}}]),a}(n.Component),Fe=Object(C.b)(function(e){return{cart:e.cart,home:e.home}},{deleteFromCart:function(e){return function(a,t){var n=t().cart.cart.find(function(a){return a.id===e}).quantity;a({type:"NEW_CART",payload:t().cart.cart.filter(function(a){return a.id!==e})}),a({type:"DECREASE_PRICE",payload:t().home.products.find(function(a){return a.id===e}).price*n})}},increaseCart:function(e){return function(a,t){var n=t().cart.cart,r=n.findIndex(function(a){return a.id===e});n[r].quantity++,a({type:"NEW_CART",payload:n}),a({type:"INCREASE_PRICE",payload:t().home.products.find(function(a){return a.id===e}).price})}},decreaseCart:function(e){return function(a,t){var n=t().cart.cart,r=n.findIndex(function(a){return a.id===e});n[r].quantity--,n[r].quantity<=0&&(n=n.filter(function(a){return a.id!==e})),a({type:"NEW_CART",payload:n}),a({type:"DECREASE_PRICE",payload:t().home.products.find(function(a){return a.id===e}).price})}},addOrder:function(e){return function(a,t){v.a.post("/api/orders",e).then(function(e){a({type:"SUCCESS_CART"})})}}})(xe),Ue=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).handleDelete=function(e,a){e.preventDefault(),t.props.deleteProduct(a)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.getOrders(),this.props.getHomeData()}},{key:"render",value:function(){var e=this.props.home.products.slice().sort(function(e,a){return a.id-e.id}),a=this.props.panel.orders;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-24 col-lg-18"},r.a.createElement(Z,null)),r.a.createElement("div",{className:"col-24"},null!==a?r.a.createElement("table",{className:"panel-table"},r.a.createElement("thead",{className:"panel-table-head"},r.a.createElement("tr",null,r.a.createElement("th",{className:"panel-table-head-item"},"\u041d\u043e\u043c\u0435\u0440"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041a\u043e\u043b-\u0432\u043e"),r.a.createElement("th",{className:"panel-table-head-item"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),r.a.createElement("th",{className:"panel-table-head-item"},"\u0414\u0430\u0442\u0430"))),r.a.createElement("tbody",{className:"panel-table-body"},a.map(function(a,t){return r.a.createElement("tr",{key:a.id,className:"panel-table-body-row"},r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041d\u043e\u043c\u0435\u0440"},a.id),r.a.createElement("th",{className:"panel-table-body-item image masonry","data-label":"\u0422\u043e\u0432\u0430\u0440\u044b"},a.items.map(function(a,t){var n=0!==e.length&&e.find(function(e){return e.id===a.productId});return r.a.createElement("div",{key:t,className:"panel-table-body-item-masonry"},r.a.createElement("img",{src:"/img/".concat(n.img),alt:n.name}),r.a.createElement("span",{className:"panel-table-body-item-masonry-row"},n.name),r.a.createElement("span",{className:"panel-table-body-item-masonry-row"},n.price," ",r.a.createElement("i",{className:"far fa-ruble-sign"})),r.a.createElement("span",{className:"panel-table-body-item-masonry-row"},a.quantity," \u0428\u0442."))})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"},a.phone?a.phone:"\u041f\u0443\u0441\u0442\u043e"),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041a\u043e\u043b-\u0432\u043e \u0447\u0435\u043b."},a.customersCount," \u0427\u0435\u043b."),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},a.comment?a.comment:"\u041f\u0443\u0441\u0442\u043e"),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},a.amount," ",r.a.createElement("i",{className:"far fa-ruble-sign"})),r.a.createElement("th",{className:"panel-table-body-item","data-label":"\u0414\u0430\u0442\u0430"},new Date(a.orderedOn).toLocaleString()))}))):r.a.createElement(z,null))))}}]),a}(n.Component),Pe=Object(C.b)(function(e){return{home:e.home,panel:e.panel}},{getHomeData:G,deleteProduct:Q,getOrders:function(){return function(e){v.a.get("/api/orders").then(function(a){e({type:"GET_ORDERS",payload:a.data.orders})})}}})(Ue);var Me=function(){return r.a.createElement("div",{className:"nomatch"},r.a.createElement("div",null,"404"),r.a.createElement("div",{className:"nomatch-title"},"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e("),r.a.createElement(L.a,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))};if(localStorage.jwtToken){y(localStorage.jwtToken);var Le=N()(localStorage.jwtToken);M.dispatch(j(Le))}var qe=E()(),He=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{store:M},r.a.createElement(u.a,{history:qe},r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(be,null),r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:J}),r.a.createElement(h.a,{exact:!0,path:"/login",component:pe}),r.a.createElement(h.a,{exact:!0,path:"/register",component:fe}),r.a.createElement(h.a,{exact:!0,path:"/cart",component:Fe}),r.a.createElement(Oe,{exact:!0,path:"/profile",component:ge}),r.a.createElement(Oe,{exact:!0,path:"/panel",component:ae}),r.a.createElement(Oe,{exact:!0,path:"/panel/products/add",component:ce}),r.a.createElement(Oe,{exact:!0,path:"/panel/products/edit/:id",component:me}),r.a.createElement(Oe,{exact:!0,path:"/panel/categories",component:Ce}),r.a.createElement(Oe,{exact:!0,path:"/panel/categories/add",component:ke}),r.a.createElement(Oe,{exact:!0,path:"/panel/categories/edit/:id",component:Re}),r.a.createElement(Oe,{exact:!0,path:"/panel/orders",component:Pe}),r.a.createElement(h.a,{component:Me})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,1,2]]]);
//# sourceMappingURL=main.d85aaf3b.chunk.js.map